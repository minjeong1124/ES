
## WHEN DO WE USE ES?
- Elasticsearch는 Lucene을 기반으로 구축되기 때문에, 전체 텍스트 검색에 뛰어남
- text full search가 가능
- ES는 스키마가 없어 저장하는 대로 값을 가지고 있음. 필드 별 매핑 처리를 하지 않아도 되지만 string인 경우에는 기본적으로 text 타입으로 저장을 하게됨. 데이터 필드 매핑을 하지 않고 넣을 경우 자동으로 type이 지정되지만 성능 면에서는 보장할 수 없음. 텍스트 검색이 아닌 필터나 정렬만 사용하는 경우 text가 아닌 keyword로 타입을 직접 명시해주면 속도가 빨라짐
- keyword vs text
    - text: 설명 혹은 길이가 긴 텍스트가 있는 필드에서 전문 검색(full-text) 가 필요한 경우이며, 색인 전에 분석(analyze)을 거쳐 전문 검색(full-text) 에 활용
    - keyword: 문자열 필드 분석(analyze)이 가능한 타입이며, 해당 타입은 정렬 / 필터링 / 집계 기능을 지원
- 왜 검색이 빠를까?
    - 주어진 검색어에 대해서 모든 열을 찾아보는 대신에, 인덱스(색인)를 이용해서 어떤 문서나 열에 해당되는지 찾음
    - text를 데이터를 넣을 경우 문자열을 토큰화하여 저장하고 검색 시 토큰화되어 저장된 값을 이용하기 때문에 빠르게 검색 가능
